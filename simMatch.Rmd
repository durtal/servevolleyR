---
title: "simMatch"
---
```{r echo=FALSE, warning=FALSE, message=FALSE}
library(servevolleyR)
```

Simulate a match between two players, given a number of parameters, that include probability of each player winning a point on their first serve, on their second serve, and the probability that their first serve will go in.

### Usage

```{r eval=FALSE}
simMatch(pA, pB, sets = c(3, 5), tiebreaks = TRUE,
         finalSetTiebreak = FALSE, players = c("A", "B"), detail = FALSE,
         p2A = NULL, firstServeA = NULL,
         p2B = NULL, firstServeB = NULL)
```

### Arguments

param | details
------|--------
pA | probability of player A winning point on their first serve
pB | probability of player B winning point on their first serve
sets | number of sets (3 or 5)
tiebreaks | play tiebreaks in the event the set reaches 6 games all (default = TRUE)
finalSetTiebreak | play a final set tiebreak if sets and games are tied, otherwise keep playing
players | player names (vector of length 2)
detail | return a detailed list about the match, including service probabilities, sets won, set data, games won, game data and result
p2A | probability of player A winning point on their second serve
firstServeA | probability of player A's first serve being in
p2A | probability of player B winning point on their second serve
firstServeB | probability of player B's first serve being in

### Return

The default function returns a 1, if player A wins the match, or 0, if player B wins the match.  If `detail` argument is changed to `TRUE`, then the function will return a list with details about the simulated match, including service probabilities, sets and games won by each player, and the result (1 or 0)

### Methods

There are a number of generic methods available for an object returned by `simMatch`, these are `print` and `summary`, example use is show below.

### Example

```{r}
simMatch(sets = 3, finalSetTiebreak = TRUE,
         pA = .78, pB = .70,
         p2A = .56, firstServeA = .67,
         p2B = .6, firstServeB = .7)

egMatch <- simMatch(sets = 3, finalSetTiebreak = TRUE, detail = TRUE,
                    pA = .78, pB = .70,
                    p2A = .56, firstServeA = .67,
                    p2B = .6, firstServeB = .7)
```
The object `egMatch` has a class of **`r class(egMatch)[2]`** which comes with a few methods

```{r}
egMatch
```

```{r echo=FALSE}
df <- simDf(egMatch)
```

The returned list can also be entered into the function [`simDf`](simDf.html) which will convert the simulated match into a dataframe, containing data about each set played, and the games in each set.

```{r eval=FALSE}
df <- simDf(egMatch)
```
```{r}
head(df)
```
